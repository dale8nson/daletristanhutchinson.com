(self.webpackChunkdale_tristan_hutchinson=self.webpackChunkdale_tristan_hutchinson||[]).push([[678],{296:function(e){function t(e,t,n){var r,o,c,s,l;function i(){var u=Date.now()-s;u<t&&u>=0?r=setTimeout(i,t-u):(r=null,n||(l=e.apply(c,o),c=o=null))}null==t&&(t=100);var u=function(){c=this,o=arguments,s=Date.now();var u=n&&!r;return r||(r=setTimeout(i,t)),u&&(l=e.apply(c,o),c=o=null),l};return u.clear=function(){r&&(clearTimeout(r),r=null)},u.flush=function(){r&&(l=e.apply(c,o),c=o=null,clearTimeout(r),r=null)},u}t.debounce=t,e.exports=t},3684:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return D}});var r=n(7294),o=n(8413),c=n(2323);function s(){return s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s.apply(this,arguments)}var l=n(9477),i=n(296),u=n.n(i);function a(e){let{debounce:t,scroll:n,polyfill:o,offsetSize:c}=void 0===e?{debounce:0,scroll:!1,offsetSize:!1}:e;const s=o||("undefined"==typeof window?class{}:window.ResizeObserver);if(!s)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[l,i]=(0,r.useState)({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),a=(0,r.useRef)({element:null,scrollContainers:null,resizeObserver:null,lastBounds:l}),d=t?"number"==typeof t?t:t.scroll:null,h=t?"number"==typeof t?t:t.resize:null,p=(0,r.useRef)(!1);(0,r.useEffect)((()=>(p.current=!0,()=>{p.current=!1})));const[m,w,b]=(0,r.useMemo)((()=>{const e=()=>{if(!a.current.element)return;const{left:e,top:t,width:n,height:r,bottom:o,right:s,x:l,y:u}=a.current.element.getBoundingClientRect(),f={left:e,top:t,width:n,height:r,bottom:o,right:s,x:l,y:u};a.current.element instanceof HTMLElement&&c&&(f.height=a.current.element.offsetHeight,f.width=a.current.element.offsetWidth),Object.freeze(f),p.current&&!v(a.current.lastBounds,f)&&i(a.current.lastBounds=f)};return[e,h?u()(e,h):e,d?u()(e,d):e]}),[i,c,d,h]);function E(){a.current.scrollContainers&&(a.current.scrollContainers.forEach((e=>e.removeEventListener("scroll",b,!0))),a.current.scrollContainers=null),a.current.resizeObserver&&(a.current.resizeObserver.disconnect(),a.current.resizeObserver=null)}function g(){a.current.element&&(a.current.resizeObserver=new s(b),a.current.resizeObserver.observe(a.current.element),n&&a.current.scrollContainers&&a.current.scrollContainers.forEach((e=>e.addEventListener("scroll",b,{capture:!0,passive:!0}))))}var y,O,C;return y=b,O=Boolean(n),(0,r.useEffect)((()=>{if(O){const e=y;return window.addEventListener("scroll",e,{capture:!0,passive:!0}),()=>{window.removeEventListener("scroll",e,!0)}}}),[y,O]),C=w,(0,r.useEffect)((()=>{const e=C;return window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}}),[C]),(0,r.useEffect)((()=>{E(),g()}),[n,b,w]),(0,r.useEffect)((()=>E),[]),[e=>{e&&e!==a.current.element&&(E(),a.current.element=e,a.current.scrollContainers=f(e),g())},l,m]}function f(e){const t=[];if(!e||e===document.body)return t;const{overflow:n,overflowX:r,overflowY:o}=window.getComputedStyle(e);return[n,r,o].some((e=>"auto"===e||"scroll"===e))&&t.push(e),[...t,...f(e.parentElement)]}const d=["x","y","top","bottom","left","right","width","height"],v=(e,t)=>d.every((n=>e[n]===t[n]));var h=Object.defineProperty,p=Object.defineProperties,m=Object.getOwnPropertyDescriptors,w=Object.getOwnPropertySymbols,b=Object.prototype.hasOwnProperty,E=Object.prototype.propertyIsEnumerable,g=(e,t,n)=>t in e?h(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,y=(e,t)=>{for(var n in t||(t={}))b.call(t,n)&&g(e,n,t[n]);if(w)for(var n of w(t))E.call(t,n)&&g(e,n,t[n]);return e};function O(e,t,n){if(!e)return;if(!0===n(e))return e;let r=t?e.return:e.child;for(;r;){const e=O(r,t,n);if(e)return e;r=t?null:r.sibling}}function C(e){try{return Object.defineProperties(e,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch(t){return e}}const z=C(r.createContext(null));class S extends r.Component{render(){return r.createElement(z.Provider,{value:this._reactInternals},this.props.children)}}const{ReactCurrentOwner:P,ReactCurrentDispatcher:R}=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function _(){const e=r.useContext(z);if(null===e)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const t=r.useId();return r.useMemo((()=>{for(const n of[null==P?void 0:P.current,e,null==e?void 0:e.alternate]){if(!n)continue;const e=O(n,!1,(e=>{let n=e.memoizedState;for(;n;){if(n.memoizedState===t)return!0;n=n.next}}));if(e)return e}}),[e,t])}function L(){const e=function(){var e,t;const n=_(),[o]=r.useState((()=>new Map));o.clear();let c=n;for(;c;){const n=null==(e=c.type)?void 0:e._context;n&&n!==z&&!o.has(n)&&o.set(n,null==(t=null==R?void 0:R.current)?void 0:t.readContext(C(n))),c=c.return}return o}();return r.useMemo((()=>Array.from(e.keys()).reduce(((t,n)=>o=>{return r.createElement(t,null,r.createElement(n.Provider,(c=y({},o),s={value:e.get(n)},p(c,m(s)))));var c,s}),(e=>r.createElement(S,y({},e))))),[e])}n(2576),n(6525),n(5431);const x={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function j(e){const{handlePointer:t}=(0,c.c)(e);return{priority:1,enabled:!0,compute(e,t,n){t.pointer.set(e.offsetX/t.size.width*2-1,-e.offsetY/t.size.height*2+1),t.raycaster.setFromCamera(t.pointer,t.camera)},connected:void 0,handlers:Object.keys(x).reduce(((e,n)=>({...e,[n]:t(n)})),{}),update:()=>{var t;const{events:n,internal:r}=e.getState();null!=(t=r.lastEvent)&&t.current&&n.handlers&&n.handlers.onPointerMove(r.lastEvent.current)},connect:t=>{var n;const{set:r,events:o}=e.getState();null==o.disconnect||o.disconnect(),r((e=>({events:{...e.events,connected:t}}))),Object.entries(null!=(n=o.handlers)?n:[]).forEach((([e,n])=>{const[r,o]=x[e];t.addEventListener(r,n,{passive:o})}))},disconnect:()=>{const{set:t,events:n}=e.getState();var r;n.connected&&(Object.entries(null!=(r=n.handlers)?r:[]).forEach((([e,t])=>{if(n&&n.connected instanceof HTMLElement){const[r]=x[e];n.connected.removeEventListener(r,t)}})),t((e=>({events:{...e.events,connected:void 0}}))))}}}const k=r.forwardRef((function({children:e,fallback:t,resize:n,style:o,gl:i,events:u=j,eventSource:f,eventPrefix:d,shadows:v,linear:h,flat:p,legacy:m,orthographic:w,frameloop:b,dpr:E,performance:g,raycaster:y,camera:O,onPointerMissed:C,onCreated:z,...S},P){r.useMemo((()=>(0,c.e)(l)),[]);const R=L(),[_,x]=a({scroll:!0,debounce:{scroll:50,resize:0},...n}),k=r.useRef(null),M=r.useRef(null);r.useImperativeHandle(P,(()=>k.current));const T=(0,c.u)(C),[B,D]=r.useState(!1),[I,Z]=r.useState(!1);if(B)throw B;if(I)throw I;const F=r.useRef(null);(0,c.a)((()=>{const t=k.current;x.width>0&&x.height>0&&t&&(F.current||(F.current=(0,c.b)(t)),F.current.configure({gl:i,events:u,shadows:v,linear:h,flat:p,legacy:m,orthographic:w,frameloop:b,dpr:E,performance:g,raycaster:y,camera:O,size:x,onPointerMissed:(...e)=>null==T.current?void 0:T.current(...e),onCreated:e=>{null==e.events.connect||e.events.connect(f?(0,c.i)(f)?f.current:f:M.current),d&&e.setEvents({compute:(e,t)=>{const n=e[d+"X"],r=e[d+"Y"];t.pointer.set(n/t.size.width*2-1,-r/t.size.height*2+1),t.raycaster.setFromCamera(t.pointer,t.camera)}}),null==z||z(e)}}),F.current.render(r.createElement(R,null,r.createElement(c.E,{set:Z},r.createElement(r.Suspense,{fallback:r.createElement(c.B,{set:D})},e)))))})),r.useEffect((()=>{const e=k.current;if(e)return()=>(0,c.d)(e)}),[]);const H=f?"none":"auto";return r.createElement("div",s({ref:M,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:H,...o}},S),r.createElement("div",{ref:_,style:{width:"100%",height:"100%"}},r.createElement("canvas",{ref:k,style:{display:"block"}},t)))})),M=r.forwardRef((function(e,t){return r.createElement(S,null,r.createElement(k,s({},e,{ref:t})))}));var T=n(2695);const B=(e,t,n)=>new l.Vector3(e,t,n);var D=()=>{(0,r.useRef)(null);(0,r.useRef)(null);const{0:e,1:t}=(0,r.useState)(!1);return(0,r.useEffect)((()=>{t(!0)}),[]),(0,T.BX)(T.HY,{children:[(0,T.tZ)(M,{id:"canvas",onScroll:()=>null,children:(0,T.BX)(r.Suspense,{fallback:(0,T.tZ)(o.uv,{position:B(3.5,-.7,0),scale:B(1.5,1.5,1)}),children:[(0,T.tZ)("directionalLight",{position:new l.Vector3(-40,0,10),args:[16777215,1.2],castShadow:!1}),(0,T.tZ)("directionalLight",{position:new l.Vector3(40,0,10),args:[16777215,1.2],castShadow:!1}),(0,T.tZ)(o.e8,{}),(0,T.tZ)(o.KA,{})]})}),(0,T.tZ)("div",{id:"ui"})]})}}}]);
//# sourceMappingURL=component---src-pages-index-js-c14f0e17b7ca00f5bc09.js.map